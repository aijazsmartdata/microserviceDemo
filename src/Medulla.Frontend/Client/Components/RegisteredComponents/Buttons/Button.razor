@using Medulla.Frontend.Client.Code
<button 
    @onclick="ButtonWasClicked"
    class="btn" type="button">
    @Content
    @ChildContent
</button>

@code {

    /*
     * These parameters are system required
     */
    [Parameter]
    public RenderFragment ChildContent { get; set; } = default!;

    [Parameter]
    public EditorViewNode EditorViewNode { get; set; } = default!;

    [Parameter]
    public Editor Editor { get; set; } = default!;
    /*
     * These parameters are system required
     */
    
    
    /*
     * These parameters need to be modifiable in Properties window
     */
    [Parameter]
    public string Content { get; set; } = "{No Button Content}";
    
    class ButtonClick: EnvironmentAbstractionHandler
    {
        protected override void HandleInEditor(Editor editor)
        {
            //Opens Properties Window
            Console.WriteLine("Button was clicked");
            Properties properties = new ();
            properties.PropertyList.Add(new() {Name = "Content", InputDescription = "Content", DefaultValue = "", InputType = "input"});
            editor.SetProperties(properties);
        }

        protected override void HandleInProduction()
        {
            //Production Code
        }

        protected override void HandleInDevelopment()
        {
            //Development Code
            Console.WriteLine("Button was clicked");
        }
    }

    public void ButtonWasClicked()
    {
        var click = new ButtonClick();
        click.Handle(Editor);
    }

}